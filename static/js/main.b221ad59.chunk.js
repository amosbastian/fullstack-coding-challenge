(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{26:function(e,t,a){e.exports=a.p+"static/media/unbabel-logo.6a891f45.svg"},31:function(e,t,a){e.exports=a(62)},53:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(4),l=a.n(n),r=a(0),c=a.n(r),s=a(6),o=a.n(s),i=(a(53),a(26)),u=a.n(i),d=function(){return c.a.createElement("header",{className:"bg-indigo-600 flex items-center justify-baseline px-4 py-3 w-full"},c.a.createElement("div",null,c.a.createElement("img",{className:"h-6",src:u.a,alt:"Unbabel"})))},m=a(5),g=a.n(m),f=a(9),p=a(11),h=a(3),b=a(10),x=a(13),v=(a(57),a(12)),E={pt:"Portuguese",en:"English",fr:"French",es:"Spanish","zh-CN":"Chinese (simplified)",ru:"Russian",ar:"Arabic",de:"German",ja:"Japanese",tr:"Turkish",it:"Italian",nl:"Dutch",hi:"Hindi","es-latam":"Spanish(Latam)"},w={en:c.a.createElement(v.a,{code:"gb-eng",svg:!0,styleProps:{width:"17px",height:"17px"}}),es:c.a.createElement(v.a,{code:"es",svg:!0,styleProps:{width:"17px",height:"17px"}})},y=function(e){return w[e]},j=function(e){return E[e]},N=function(e,t){return e.translated_text||(e.translated_text=""),t.translated_text||(t.translated_text=""),t.translated_text.length-e.translated_text.length},k=function(e){var t=e.children;return c.a.createElement("div",{className:"text-gray-700 flex text-center items-center justify-center w-1/2 uppercase font-medium tracking-normal truncate"},t)},O=function(e){var t=e.onClick;return c.a.createElement("button",{onClick:t,type:"button",className:"block text-gray-600 flex justify-center items-center hover:text-gray-700 focus:outline-none"},c.a.createElement("svg",{className:"h-6 w-6 fill-current"},c.a.createElement("defs",null,c.a.createElement("path",{id:"a",d:"M0 0h24v24H0V0z"})),c.a.createElement("clipPath",{id:"b"},c.a.createElement("use",{xlinkHref:"#a",overflow:"visible"})),c.a.createElement("path",{clipPath:"url(#b)",d:"M9.01 14H2v2h7.01v3L13 15l-3.99-4v3zm5.98-1v-3H22V8h-7.01V5L11 9l3.99 4z"})))},C={es:"spanish",en:"english"},z=function(e){var t=e.onClick,a=e.sourceLanguage,n=e.targetLanguage;return c.a.createElement("div",{className:"flex bg-gray-100 justify-between items-center py-3"},c.a.createElement(k,null,C[a]),c.a.createElement(O,{onClick:t}),c.a.createElement(k,null,C[n]))},L=a(7),S=a.n(L),_={new:"badge-new",translating:"badge-pending",canceled:"badge-danger",failed:"badge-danger",rejected:"badge-danger",accepted:"badge-success",completed:"badge-success"},H=function(e){var t=e.translation,a=e.deleteTranslation,n=e.deleteLoading,l=Object(r.useState)(!1),s=Object(h.a)(l,2),o=s[0],i=s[1],u=t.translated_text?t.translated_text:c.a.createElement(S.a,{sizeUnit:"px",size:5,color:"#5a67d8",loading:!0});return c.a.createElement(b.a,{flipId:t.uid},c.a.createElement("div",{onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},className:"flex flex-col transition transition-bg bg-white hover:bg-gray-200 border border-l-0 border-r-0 border-t-0"},c.a.createElement("div",{className:"px-4 py-3 flex items-baseline justify-between mb-1 bg-gray-100"},c.a.createElement("span",{className:"text-gray-500 text-sm"},c.a.createElement("span",{className:"mr-2 inline-block"},y(t.source_language)),c.a.createElement("span",{className:"hidden lg:inline-block"},j(t.source_language)),"\u2192",c.a.createElement("div",{className:"mx-2 inline-block"},y(t.target_language)),c.a.createElement("span",{className:"hidden lg:inline-block"},j(t.target_language))),c.a.createElement("span",{className:"badge ".concat(_[t.status])},t.status)),c.a.createElement("div",{className:"flex flex-col relative lg:flex-row py-6 leading-relaxed px-5 lg:px-6"},c.a.createElement("div",{className:"flex-1 flex text-gray-600 lg:mt-0 lg:mr-5"},t.text),c.a.createElement("div",{className:"flex-1 flex items-center lg:ml-5 mt-6 text-gray-800 lg:mt-0 ".concat(t.translated_text?"":"justify-center")},u),c.a.createElement("button",{type:"button",onClick:function(){return a(t.uid)},className:"transition block absolute right-0 px-3 py-2 bg-red-200 text-red-800 rounded -mt-4 mr-3 shadow-lg focus:outline-none hover:bg-red-300 active:shadow w-20 ".concat(o?"opacity-100":"opacity-0")},n?c.a.createElement(S.a,{sizeUnit:"px",size:5,color:"#9b2c2c",loading:!0}):"Delete"))))},T=function(e){var t=e.loading,a=e.translations,n=e.deleteTranslation,l=e.deleteLoading,r=a.map((function(e){return c.a.createElement(H,{key:e.uid,translation:e,deleteTranslation:n,deleteLoading:l})}));return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"flex justify-center items-center p-6 ".concat(t?"opacity-100":"hidden")},c.a.createElement(S.a,{sizeUnit:"px",size:5,color:"#5a67d8",loading:t})),c.a.createElement("div",{className:"flex flex-col bg-gray-100 lg:shadow-xl transition transition-slower lg:rounded lg:overflow-hidden ".concat(t?"opacity-0":"opacity-100")},c.a.createElement("div",{className:"flex justify-between bg-white px-4 py-3 border border-l-0 border-r-0 lg:border-t-0 text-sm text-gray-600 transition transition-slower ".concat(t?"opacity-0":"opacity-100")},c.a.createElement("div",null,r.length," translations"),c.a.createElement("button",{onClick:function(){a.forEach((function(e){console.log(e.uid),n(e.uid)}))},type:"button",className:"block transition text-gray-500 hover:text-gray-700 focus:outline-none"},"Clear all")),r))},M=a(28),D=a.n(M),V=function(e){var t=e.handleChange,a=e.handleClear,n=e.handleKeyDown,l=e.handleSubmit,r=e.loading,s=e.translationText;return c.a.createElement("div",{className:"shadow bg-white flex pt-3 h-40 flex flex-col"},c.a.createElement("form",{className:"flex w-full h-full px-4",onSubmit:l},c.a.createElement("textarea",{placeholder:"Translate...",className:"text-gray-800 text-xl flex-1 p-2 m-1 bg-transparent resize-none max-h-full focus:outline-none",value:s,onChange:t,disabled:r,onKeyDown:function(e){n(e)}}),c.a.createElement("div",{className:"ml-1 flex flex-col items-center justify-between"},s.length?c.a.createElement("button",{type:"button",className:"block transition text-gray-500 hover:text-gray-600 focus:outline-none",onClick:a},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-6 w-6 fill-current"},c.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))):null,s.length?c.a.createElement("button",{type:"submit",className:"block transition text-gray-500 hover:text-gray-600 focus:outline-none"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-6 w-6 fill-current"},c.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),c.a.createElement("path",{d:"M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z"}))):null)),c.a.createElement("div",{className:"flex text-sm text-gray-500 mt-3 mb-3 pr-4 justify-end"},s.length," / 5000"),c.a.createElement("div",{className:"w-full ".concat(r?"opacity-100":"opacity-0")},c.a.createElement(D.a,{color:"#5a67d8",css:"width: 100%",loading:!0})))},P=new EventSource("http://localhost:5000/translations/stream")||void 0,B=function(){var e=Object(r.useState)(!0),t=Object(h.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(!1),o=Object(h.a)(s,2),i=o[0],u=o[1],d=Object(r.useState)("en"),m=Object(h.a)(d,2),v=m[0],E=m[1],w=Object(r.useState)("es"),y=Object(h.a)(w,2),j=y[0],k=y[1],O=Object(r.useState)(""),C=Object(h.a)(O,2),L=C[0],S=C[1],_=Object(r.useState)([]),H=Object(h.a)(_,2),M=H[0],D=H[1],B=Object(r.useState)(!1),K=Object(h.a)(B,2),U=K[0],I=K[1],J=function(e){return Object(x.b)("".concat(e),{type:"error"})},F=function(){var e=Object(p.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),L){e.next=3;break}return e.abrupt("return");case 3:return u(!0),e.prev=4,e.next=7,l.a.post("/translations/",{text:L,source_language:v,target_language:j});case 7:a=e.sent,n=a.data,S(""),D((function(e){return[n].concat(Object(f.a)(e)).sort(N)})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),J("Could not submit translation!");case 16:u(!1);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,l.a.delete("/translations/delete/".concat(t));case 3:"success"===e.sent.data.message?D((function(e){return Object(f.a)(e).filter((function(e){return e.uid!==t}))})):J("Could not delete translation!"),I(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){P&&(P.onmessage=function(e){!function(e){var t=Object(f.a)(M);e.forEach((function(e){var a=t.findIndex((function(t){return t.uid===e.uid}));t[a]=e})),D(Object(f.a)(t).sort(N))}(JSON.parse(e.data))})}),[M]),Object(r.useEffect)((function(){var e=!1;function t(){return(t=Object(p.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("/translations/");case 3:a=t.sent,e||D(a.data.sort(N)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),J("Could not fetch translations!");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),n(!1),function(){e=!0}}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"lg:max-w-3xl w-full lg:rounded lg:overflow-hidden lg:mt-10 lg:shadow-xl"},c.a.createElement(z,{sourceLanguage:v,targetLanguage:j,onClick:function(){var e=v;E(j),k(e)}}),c.a.createElement(V,{translationText:L,handleChange:function(e){e.target.value.length>5e3||S(e.target.value)},handleSubmit:F,handleClear:function(e){e.preventDefault(),L&&S("")},handleKeyDown:function(e){"Enter"===e.key&&!1===e.shiftKey&&(e.preventDefault(),F(e))},loading:i})),c.a.createElement("div",{className:"lg:max-w-3xl w-full lg:my-10"},c.a.createElement(b.b,{flipKey:M.map((function(e){return e.uid})).join("")},c.a.createElement(T,{loading:a,translations:M,deleteTranslation:R,deleteLoading:U}))),c.a.createElement(x.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))},K=function(){return c.a.createElement("div",{className:"bg-white lg:bg-gray-200 h-full flex flex-col items-center min-h-screen"},c.a.createElement(d,null),c.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.defaults.baseURL="http://localhost:5000",l.a.defaults.headers.post["Content-Type"]="application/json",o.a.render(c.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.b221ad59.chunk.js.map